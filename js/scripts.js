"use strict";var btnLog=document.querySelector(".logotype-nav__item-btn_log"),formLog=document.querySelector(".autorization-form_log");function handleClickLog(){formLog.classList.add("autorization-form_scale"),btnCloses.forEach(function(e){return e.addEventListener("click",handleCloseForm)}),btnLog.removeEventListener("click",handleClickLog)}btnLog.addEventListener("click",handleClickLog);var btnReg=document.querySelector(".logotype-nav__item-btn_reg"),formReg=document.querySelector(".autorization-form_reg");function handleClickReg(){formReg.classList.add("autorization-form_scale"),btnCloses.forEach(function(e){return e.addEventListener("click",handleCloseForm)}),btnReg.removeEventListener("click",handleClickReg)}btnReg.addEventListener("click",handleClickReg);var btnCloses=document.querySelectorAll(".autorization-form__close");function handleCloseForm(){formLog.classList.remove("autorization-form_scale"),formReg.classList.remove("autorization-form_scale"),btnCloses.forEach(function(e){return e.removeEventListener("click",handleCloseForm)}),btnLog.addEventListener("click",handleClickLog),btnReg.addEventListener("click",handleClickReg)}var formCurrency=document.querySelector(".topper__switches-currency"),currencyUSD=document.getElementById("usd"),currencyEUR=document.getElementById("eur"),currencyGBP=document.getElementById("gbp"),currency=localStorage.getItem("currency");function handleClickCurrency(e){var t=e.target;t===currencyUSD&&localStorage.setItem("currency","usd"),t===currencyEUR&&localStorage.setItem("currency","eur"),t===currencyGBP&&localStorage.setItem("currency","gbp")}currency?("usd"===currency&&currencyUSD.setAttribute("checked",!0),"eur"===currency&&currencyEUR.setAttribute("checked",!0),"gbp"===currency&&currencyGBP.setAttribute("checked",!0)):(currencyUSD.setAttribute("checked",!0),localStorage.setItem("currency","usd")),formCurrency.addEventListener("click",handleClickCurrency);var formLang=document.querySelector(".topper__switches-lang"),langEN=document.getElementById("en"),langFR=document.getElementById("fr"),langGM=document.getElementById("gm"),lang=localStorage.getItem("lang");function handleClickLang(e){var t=e.target;t===langEN&&localStorage.setItem("lang","en"),t===langFR&&localStorage.setItem("lang","fr"),t===langGM&&localStorage.setItem("lang","gm")}lang?("en"===lang&&langEN.setAttribute("checked",!0),"fr"===lang&&langFR.setAttribute("checked",!0),"gm"===lang&&langGM.setAttribute("checked",!0)):(langEN.setAttribute("checked",!0),localStorage.setItem("lang","en")),formLang.addEventListener("click",handleClickLang);var containerWidth=document.querySelector(".section .container").clientWidth,sliderWidth=document.querySelector(".slider").clientWidth,sliderLine=document.querySelector(".slider__line"),sliderLineWrappers=document.querySelectorAll(".slider__line-wrapper"),sliderNavLeft=document.querySelector(".slider__nav_left"),sliderNavRight=document.querySelector(".slider__nav_right"),sliderIndicatorsIcons=document.querySelectorAll(".slider__indicators-icon"),widthArr=[],sliderLineWidth=0,offset=0,step=0;function handleClickRight(){step+1<=sliderIndicatorsIcons.length-1&&(offset+=widthArr[step],sliderLine.style.left=-offset+"px",step++),sliderIndicatorsIcons.forEach(function(e,t){e.classList.remove("slider__indicators-icon_active"),t===step&&e.classList.add("slider__indicators-icon_active")})}function handleClickLeft(){0<step&&(offset-=widthArr[step],sliderLine.style.left=-offset+"px",step--),sliderIndicatorsIcons.forEach(function(e,t){e.classList.remove("slider__indicators-icon_active"),t===step&&e.classList.add("slider__indicators-icon_active")})}sliderLineWrappers.forEach(function(e){e.style.width=containerWidth+"px",widthArr.push(e.offsetWidth),sliderLineWidth+=e.offsetWidth}),sliderLine.style.width=sliderLineWidth+"px",window.addEventListener("resize",function(){var t=document.querySelector(".section .container").clientWidth;sliderWidth=document.querySelector(".slider").clientWidth;var e=document.querySelectorAll(".slider__line-wrapper");widthArr=[],sliderLineWidth=0,e.forEach(function(e){e.style.width=t+"px",widthArr.push(e.offsetWidth),sliderLineWidth+=e.offsetWidth}),sliderLine.style.width=sliderLineWidth+"px",offset=widthArr[step]*(step+1)-widthArr[step],sliderLine.style.left=-offset+"px"}),sliderNavRight.addEventListener("click",handleClickRight),sliderNavLeft.addEventListener("click",handleClickLeft);formLog=document.querySelector(".autorization-form_log"),formReg=document.querySelector(".autorization-form_reg");var inputsLog=document.querySelectorAll(".autorization-form_log .required"),inputsReg=document.querySelectorAll(".autorization-form_reg .required"),emailInputLog=document.querySelector(".autorization-form_log input[name=email]"),emailInputReg=document.querySelector(".autorization-form_reg input[name=email]"),passwordInputReg=document.querySelector(".autorization-form_reg input[name=password]"),repeatInput=document.querySelector(".autorization-form input[name=repeat]");function handleSubmitLog(e){e.preventDefault(),resetErrorMessage(),requiredInput(inputsLog),validationEmail(emailInputLog)}function handleSubmitReg(e){e.preventDefault(),resetErrorMessage(),requiredInput(inputsReg),validationEmail(emailInputReg),repeatPassword()}formLog.addEventListener("submit",handleSubmitLog),formReg.addEventListener("submit",handleSubmitReg);var resetErrorMessage=function(){document.querySelectorAll(".autorization__error").forEach(function(e){return e.remove()})},createErrorMessage=function(e,t){var r=document.createElement("p");r.className="autorization__error",r.textContent=t,e.after(r)},requiredInput=function(e){return e.forEach(function(e){if(!e.value){createErrorMessage(e,"Это поле обязательно к заполнению")}})},validationEmail=function(e){if(!/^([a-z0-9_\.-]+)@([a-z0-9_\.-]+)\.([a-z\.]{2,6})$/.test(e.value)){createErrorMessage(e,"Введите валидный email")}},repeatPassword=function(){if(passwordInputReg.value!==repeatInput.value){createErrorMessage(repeatInput,"Пароли должны совпадать")}};